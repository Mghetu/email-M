<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MJML Email Editor (GH Pages + Insert v4)</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/grapesjs@0.21.8/dist/css/grapes.min.css" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div id="topbar">
    <div class="left">
      <strong>MJML Email Editor</strong> <span class="muted">/ GH Pages + Insert v4</span>
    </div>
    <div class="right">
      <div class="devices">
        <button id="dev-desktop" title="Desktop">Desktop</button>
        <button id="dev-tablet"  title="Tablet">Tablet</button>
        <button id="dev-mobile"  title="Mobile">Mobile</button>
      </div>
      <span class="sep"></span>
      <button id="btn-insert"  title="Insert into selection">Insert +</button>
      <span class="sep"></span>
      <button id="btn-new" title="Clear canvas">New</button>
      <button id="btn-import-mjml" title="Paste MJML to compile">Import MJML</button>
      <button id="btn-export-mjml" title="Get raw MJML">Export MJML</button>
      <button id="btn-export-html" title="Download compiled HTML">Export HTML</button>
      <button id="btn-save" title="Save to localStorage">Save</button>
      <button id="btn-load" title="Load from localStorage">Load</button>
    </div>
  </div>

  <div id="editor"></div>

  <template id="tpl-import-modal">
    <div class="modal-body">
      <p>Paste your MJML below. It will be compiled to HTML in the browser using <code>mjml-browser</code>.</p>
      <textarea id="import-mjml-textarea" placeholder="<mjml>...</mjml>" rows="12"></textarea>
      <div class="modal-actions">
        <button id="import-cancel">Cancel</button>
        <button id="import-apply">Import</button>
      </div>
    </div>
  </template>

  <template id="tpl-insert-menu">
    <div class="insert-menu">
      <div class="insert-menu-header">
        <strong id="insert-title">Insert</strong>
        <button id="insert-close" aria-label="Close">Ã—</button>
      </div>
      <div class="insert-list" id="insert-list"></div>
    </div>
  </template>

  <script src="https://cdn.jsdelivr.net/npm/grapesjs@0.21.8/dist/grapes.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/grapesjs-mjml@1.0.7/dist/index.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- Swap to jsDelivr min build to avoid CORB on some networks -->
  <script src="https://cdn.jsdelivr.net/npm/mjml-browser@4.15.3/dist/mjml-browser.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="./app.js"></script>
</body>
</html>
